
<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['sankey']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = new google.visualization.DataTable({"cols":[{"id":"From","label":"From","type":"string"},{"id":"To","label":"To","type":"string"},{"id":"Weight","label":"Weight","type":"number"}],"rows":[{"c":[{"v":"Construction and project related activity"},{"v":"Total revenue"},{"v":100604.09}]},{"c":[{"v":"Manufacturing and trading activity"},{"v":"Total revenue"},{"v":3882.61}]},{"c":[{"v":"Engineering service fees"},{"v":"Total revenue"},{"v":6561.8}]},{"c":[{"v":"Software development products and services"},{"v":"Total revenue"},{"v":25804.51}]},{"c":[{"v":"Income from financing activity/annuity based projects"},{"v":"Total revenue"},{"v":12630.81}]},{"c":[{"v":"Property development activity"},{"v":"Total revenue"},{"v":1264.35}]},{"c":[{"v":"Fare collection and related activity"},{"v":"Total revenue"},{"v":201.39}]},{"c":[{"v":"Servicing fees"},{"v":"Total revenue"},{"v":1345.32}]},{"c":[{"v":"Commission"},{"v":"Total revenue"},{"v":129.31}]},{"c":[{"v":"Charter hire income"},{"v":"Total revenue"},{"v":2.29}]},{"c":[{"v":"Investment/portfolio management and trusteeship fees"},{"v":"Total revenue"},{"v":359.09}]},{"c":[{"v":"Fees for operation and maintenance of power plant"},{"v":"Total revenue"},{"v":2804.94}]},{"c":[{"v":"Revenue from sale of power"},{"v":"Total revenue"},{"v":81.95}]},{"c":[{"v":"Lease rentals"},{"v":"Total revenue"},{"v":87.38}]},{"c":[{"v":"Property maintenance recoveries"},{"v":"Total revenue"},{"v":49.63}]},{"c":[{"v":"Profit on sale of a subsidiary classified under realty segment"},{"v":"Total revenue"},{"v":1.65}]},{"c":[{"v":"Premium earned (net) on related forward exchange contracts"},{"v":"Total revenue"},{"v":53.65}]},{"c":[{"v":"Profit on sale of investment property"},{"v":"Total revenue"},{"v":0}]},{"c":[{"v":"Technical fees"},{"v":"Total revenue"},{"v":4.75}]},{"c":[{"v":"Miscellaneous income"},{"v":"Total revenue"},{"v":651.71}]},{"c":[{"v":"Total revenue"},{"v":"Manufacturing, construction and operating expenses"},{"v":99738.51}]},{"c":[{"v":"Total revenue"},{"v":"Employee benefits expense"},{"v":29733.53}]},{"c":[{"v":"Total revenue"},{"v":"Sales, administration and other expenses"},{"v":8831.89}]},{"c":[{"v":"Total revenue"},{"v":"Finance costs"},{"v":3125.7}]},{"c":[{"v":"Total revenue"},{"v":"Depreciation, amortisation, impairment and obsolescence"},{"v":2947.95}]}]});

      var options = {
        width: '100%',
        height: '100%',
        backgroundColor: 'black',
        fontName: 'Arial',
        fontSize: 12,
        node: {
          label: {
            fontName: 'Arial',
            fontSize: 14,
            bold: true,
            color: 'white'
          },
          width: 20,
          color: '#ddd'
        },
        links: {
          color: '#ccc'
        }
      };

      var chart = new google.visualization.Sankey(document.getElementById('sankey_basic'));

      // Set a minimum height to prevent initial collapse
      const chartContainer = document.getElementById('chart-container');
      chartContainer.style.minHeight = '600px'; // Adjust this value as needed

      chart.draw(data, options);

      //Resize the chart on window resize
      window.addEventListener('resize', () => {
        chart.draw(data, options);
      });
    }
  </script>
  <style>
    #chart-container {
      width: 100vw;
      height: 90vh;
      overflow: auto;
      background-color: black;
    }
    body { margin: 0; background-color: black;} /* Reset body margins and set background */
    #sankey_basic {
        min-width: 800px; /* Set a minimum width for the chart itself */
    }
  </style>
</head>
<body>
  <div id="chart-container">
    <div id="sankey_basic"></div>
  </div>
</body>
</html>
